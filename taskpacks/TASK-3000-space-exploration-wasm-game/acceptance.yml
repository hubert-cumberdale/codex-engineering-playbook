version: 1

deps: []

format:
  commands:
    - python -m compileall -q .

lint:
  commands:
    - python tools/acceptance/check_git_diff_scope.py --allowed taskpacks/
    - python tools/acceptance/check_no_qualitative_language.py --path taskpacks/TASK-3000-space-exploration-wasm-game

tests:
  commands:
    # v1.2 hygiene (advisory): explicit import posture for local/CI parity
    - PYTHONPATH=. python -m pytest -q
    # Task pack build and headless validation (deterministic placeholders)
    - bash taskpacks/TASK-3000-space-exploration-wasm-game/scripts/build_wasm.sh
    - bash taskpacks/TASK-3000-space-exploration-wasm-game/scripts/run_headless_sim.sh
    # v1.2 hygiene (advisory): artifacts should provide deterministic evidence
    - python tools/acceptance/check_artifacts_present.py --path artifacts
    - python tools/acceptance/check_artifact_contains_any.py --path artifacts --any deterministic headless validation batchmode export
    - python tools/acceptance/check_engine_declared_in_taskpack.py --task-yml task.yml --spec spec.md --artifact-path artifacts
